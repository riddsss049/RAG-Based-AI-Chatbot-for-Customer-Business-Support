<!DOCTYPE html>
<html>
<head>
<title>JMD Pools Chatbot</title>

<style>

body{
 font-family: Arial;
 background:#0d1b2a;
 margin:0;
 display:flex;
 justify-content:center;
 align-items:center;
 height:100vh;
}

.chat-box{
 width:450px;
 height:600px;
 background:white;
 border-radius:10px;
 box-shadow:0 0 25px rgba(0,0,0,0.4);
 display:flex;
 flex-direction:column;
 overflow:hidden;
}

.header{
 background:#005eff;
 color:white;
 padding:15px;
 font-size:20px;
 font-weight:bold;
}

.chat-area{
 flex:1;
 padding:15px;
 overflow-y:auto;
 background:#e9eef7;
}

.msg{
 padding:10px 14px;
 margin:8px 0;
 width: fit-content;
 max-width:80%;
 border-radius:10px;
}

.user{
 background:#005eff;
 color:white;
 margin-left:auto;
}

.bot{
 background:white;
 border:1px solid #ddd;
}

.input-area{
 display:flex;
 padding:10px;
 background:white;
}

input{
 flex:1;
 padding:10px;
 font-size:16px;
 border-radius:20px;
 border:1px solid gray;
}

button{
 margin-left:10px;
 background:#005eff;
 color:white;
 border:none;
 padding:10px 18px;
 border-radius:50px;
 cursor:pointer;
 font-size:15px;
}

button:hover{
 background:#003cb8;
}

</style>
</head>

<body>

<div class="chat-box">

 <img src="/static/assets/jmdlogo.png" class="bot-logo">
    <div class="header">JMD Pools Chatbot</div>



 <div id="chat" class="chat-area"></div>

 <div class="input-area">
   <input id="msg" placeholder="Ask about pools, pricing, design...">
   <button onclick="send()">Send</button>
 </div>

</div>

<script>
async function send(){

 let box = document.getElementById("msg");
 let chat = document.getElementById("chat");
 let msg = box.value.trim();

 if(msg==="") return;

 chat.innerHTML += `<div class='msg user'>${msg}</div>`;
 box.value="";

 const res = await fetch("http://127.0.0.1:8000/chat/", {
   method:"POST",
   headers:{ "Content-Type":"application/json" },
   body:JSON.stringify({
     user_id:"user1",
     message:msg
   })
 });

 const data = await res.json();

 chat.innerHTML += `<div class='msg bot'>${data.reply}</div>`;

 chat.scrollTop = chat.scrollHeight;
}
</script>

</body>
</html>
